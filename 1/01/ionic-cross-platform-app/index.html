<!DOCTYPE html>
<html lang="zh">
  <head>
    <title>
        ionic跨平台应用开发教程 - my101du Blog
      </title>
        <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    
    <meta name="theme-color" content="#000000" />
    
    <meta http-equiv="window-target" content="_top" />
    
    
    <meta name="description" content="使用 HTML5&#43;Javascript&#43;CSS 来开发手机应用，一直是广大前端开发者的理想，并且已经有不少解决方案了。例如 PhoneGap（用javascript来调用设备原生API" />
    <meta name="generator" content="Hugo 0.70.0 with theme pure" />
    <title>ionic跨平台应用开发教程 - my101du Blog</title>
    
    
    <link rel="stylesheet" href="https://my101du.github.io/css/style.min.7dc20efbc53647d41aa9ddea0c48e59300223d084e66ea0cbe7c30bd88903acc.css">
    
    <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.15.10/styles/github.min.css" async>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css" async>
    <meta property="og:title" content="ionic跨平台应用开发教程" />
<meta property="og:description" content="使用 HTML5&#43;Javascript&#43;CSS 来开发手机应用，一直是广大前端开发者的理想，并且已经有不少解决方案了。例如 PhoneGap（用javascript来调用设备原生API" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://my101du.github.io/1/01/ionic-cross-platform-app/" />

<meta itemprop="name" content="ionic跨平台应用开发教程">
<meta itemprop="description" content="使用 HTML5&#43;Javascript&#43;CSS 来开发手机应用，一直是广大前端开发者的理想，并且已经有不少解决方案了。例如 PhoneGap（用javascript来调用设备原生API">

<meta itemprop="wordCount" content="9711">



<meta itemprop="keywords" content="ionic," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ionic跨平台应用开发教程"/>
<meta name="twitter:description" content="使用 HTML5&#43;Javascript&#43;CSS 来开发手机应用，一直是广大前端开发者的理想，并且已经有不少解决方案了。例如 PhoneGap（用javascript来调用设备原生API"/>

    <!--[if lte IE 9]>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
      <![endif]-->

    <!--[if lt IE 9]>
        <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
      <![endif]-->
  </head>

  
  

  <body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader">
    <div class="slimContent">
      <div class="navbar-header">
        <div class="profile-block text-center">
          <a id="avatar" href="https://github.com/my101du" target="_blank">
            <img class="img-circle img-rotate" src="https://avatars2.githubusercontent.com/u/1332645?s=460&amp;u=dc114d6baad010456a5af87c4cc2df0694ff2b1c&amp;v=4" width="200" height="200">
          </a>
          <h2 id="name" class="hidden-xs hidden-sm">my101du</h2>
          <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
          <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i>Dongguan, China</small>
        </div><div class="search" id="search-form-wrap">
    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i
                        class="icon icon-search"></i></button>
            </span>
        </div>
        <div class="ins-search">
            <div class="ins-search-mask"></div>
            <div class="ins-search-container">
                <div class="ins-input-wrapper">
                    <input type="text" class="ins-search-input" placeholder="想要查找什么..."
                        x-webkit-speech />
                    <button type="button" class="close ins-close ins-selectable" data-dismiss="modal"
                        aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="ins-section-wrapper">
                    <div class="ins-section-container"></div>
                </div>
            </div>
        </div>
    </form>
</div>
        <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
        <ul class="nav navbar-nav main-nav">
            <li class="menu-item menu-item-home">
                <a href="/">
                    <i class="icon icon-home-fill"></i>
                  <span class="menu-title">Home</span>
                </a>
            </li>
            <li class="menu-item menu-item-archives">
                <a href="/posts/">
                    <i class="icon icon-archives-fill"></i>
                  <span class="menu-title">Archives</span>
                </a>
            </li>
            <li class="menu-item menu-item-categories">
                <a href="/categories/">
                    <i class="icon icon-folder"></i>
                  <span class="menu-title">Categories</span>
                </a>
            </li>
            <li class="menu-item menu-item-tags">
                <a href="/tags/">
                    <i class="icon icon-tags"></i>
                  <span class="menu-title">Tags</span>
                </a>
            </li>
            <li class="menu-item menu-item-about">
                <a href="/about/">
                    <i class="icon icon-cup-fill"></i>
                  <span class="menu-title">About</span>
                </a>
            </li>
        </ul>
      </nav>
    </div>
  </header>

<aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content"><p>enjoy~</p>
            </div>
        </div>
    </div>
</div>

      <div class="widget">
    <h3 class="widget-title"> 分类</h3>
    <div class="widget-body">
        <ul class="category-list">
        </ul>
    </div>
</div>
      <div class="widget">
    <h3 class="widget-title"> 标签</h3>
    <div class="widget-body">
        <ul class="tag-list">
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/aftereffects/" class="tag-list-link">aftereffects</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/android/" class="tag-list-link">android</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/angular/" class="tag-list-link">angular</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/angularjs/" class="tag-list-link">angularjs</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/animate/" class="tag-list-link">animate</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/atom/" class="tag-list-link">atom</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/axure/" class="tag-list-link">axure</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/bi/" class="tag-list-link">bi</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/chrome/" class="tag-list-link">chrome</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/cocos2d/" class="tag-list-link">cocos2d</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/css/" class="tag-list-link">css</a><span
                    class="tag-list-count">3</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/data-visualization/" class="tag-list-link">data-visualization</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/discuz/" class="tag-list-link">discuz</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/docker/" class="tag-list-link">docker</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/echarts/" class="tag-list-link">echarts</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/ecshop/" class="tag-list-link">ecshop</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/express/" class="tag-list-link">express</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/foreground/" class="tag-list-link">foreground</a><span
                    class="tag-list-count">7</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/forever/" class="tag-list-link">forever</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/frontend/" class="tag-list-link">frontend</a><span
                    class="tag-list-count">18</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/google-analytics/" class="tag-list-link">google-analytics</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/hexo/" class="tag-list-link">hexo</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/highlight/" class="tag-list-link">highlight</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/https/" class="tag-list-link">https</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/idea/" class="tag-list-link">idea</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/imovie/" class="tag-list-link">imovie</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/ionic/" class="tag-list-link">ionic</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/javascript/" class="tag-list-link">javascript</a><span
                    class="tag-list-count">7</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/jest/" class="tag-list-link">jest</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/jquery/" class="tag-list-link">jquery</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/laravel/" class="tag-list-link">laravel</a><span
                    class="tag-list-count">4</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/macos/" class="tag-list-link">macos</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/magento/" class="tag-list-link">magento</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/markdown/" class="tag-list-link">markdown</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/meteor/" class="tag-list-link">meteor</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/mobile/" class="tag-list-link">mobile</a><span
                    class="tag-list-count">4</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/mysql/" class="tag-list-link">mysql</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/nginx/" class="tag-list-link">nginx</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/nodejs/" class="tag-list-link">nodejs</a><span
                    class="tag-list-count">3</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/openwrt/" class="tag-list-link">openwrt</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/other/" class="tag-list-link">other</a><span
                    class="tag-list-count">3</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/photoshop/" class="tag-list-link">photoshop</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/php/" class="tag-list-link">php</a><span
                    class="tag-list-count">9</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/play/" class="tag-list-link">play</a><span
                    class="tag-list-count">6</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/pm2/" class="tag-list-link">pm2</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/ppt/" class="tag-list-link">ppt</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/premiere/" class="tag-list-link">premiere</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/react/" class="tag-list-link">react</a><span
                    class="tag-list-count">3</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/reactnative/" class="tag-list-link">reactnative</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/samba/" class="tag-list-link">samba</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/screenflow/" class="tag-list-link">screenflow</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/seo/" class="tag-list-link">seo</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/server/" class="tag-list-link">server</a><span
                    class="tag-list-count">12</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/shadowsocks/" class="tag-list-link">shadowsocks</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/simplehtmldom/" class="tag-list-link">simplehtmldom</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/sketch/" class="tag-list-link">sketch</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/skill/" class="tag-list-link">skill</a><span
                    class="tag-list-count">4</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/skills/" class="tag-list-link">skills</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/ssh/" class="tag-list-link">ssh</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/supervisor/" class="tag-list-link">supervisor</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/svn/" class="tag-list-link">svn</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/tools/" class="tag-list-link">tools</a><span
                    class="tag-list-count">3</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/typecho/" class="tag-list-link">typecho</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/unity3d/" class="tag-list-link">unity3d</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/vim/" class="tag-list-link">vim</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/vnc/" class="tag-list-link">vnc</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/vue/" class="tag-list-link">vue</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/web-server/" class="tag-list-link">web-server</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/webpack/" class="tag-list-link">webpack</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/wordpress/" class="tag-list-link">wordpress</a><span
                    class="tag-list-count">12</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/write/" class="tag-list-link">write</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/zombie/" class="tag-list-link">zombie</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/%E5%86%99%E4%BD%9C/" class="tag-list-link">写作</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/%E5%89%8D%E7%AB%AF/" class="tag-list-link">前端</a><span
                    class="tag-list-count">12</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/%E5%B7%A5%E5%85%B7/" class="tag-list-link">工具</a><span
                    class="tag-list-count">25</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/%E5%BE%AE%E4%BF%A1/" class="tag-list-link">微信</a><span
                    class="tag-list-count">7</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/%E6%80%9D%E8%80%83/" class="tag-list-link">思考</a><span
                    class="tag-list-count">6</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/%E6%8A%80%E5%B7%A7/" class="tag-list-link">技巧</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/%E6%8A%80%E8%83%BD/" class="tag-list-link">技能</a><span
                    class="tag-list-count">17</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="tag-list-link">正则表达式</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/%E6%B8%B8%E6%88%8F/" class="tag-list-link">游戏</a><span
                    class="tag-list-count">2</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE/" class="tag-list-link">百度地图</a><span
                    class="tag-list-count">1</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/%E8%BF%90%E7%BB%B4/" class="tag-list-link">运维</a><span
                    class="tag-list-count">18</span></li>
            
            
            <li class="tag-list-item"><a href="https://my101du.github.io/tags/%E9%9A%8F%E7%AC%94/" class="tag-list-link">随笔</a><span
                    class="tag-list-count">18</span></li>
            
        </ul>

    </div>
</div>
      
<div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
        <ul class="recent-post-list list-unstyled no-thumbnail">
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://my101du.github.io/1/01/1-1/" class="title">1-1</a>
                    </p>
                    <p class="item-date">
                        <time datetime="0001-01-01 00:00:00 &#43;0000 UTC" itemprop="datePublished">0001-01-01</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://my101du.github.io/1/01/100-laravel-extensions/" class="title">100个laravel常用扩展</a>
                    </p>
                    <p class="item-date">
                        <time datetime="0001-01-01 00:00:00 &#43;0000 UTC" itemprop="datePublished">0001-01-01</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://my101du.github.io/1/01/national-day-2009/" class="title">2009年国庆小记</a>
                    </p>
                    <p class="item-date">
                        <time datetime="0001-01-01 00:00:00 &#43;0000 UTC" itemprop="datePublished">0001-01-01</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://my101du.github.io/1/01/500-%E9%94%99%E8%AF%AF/" class="title">500 错误</a>
                    </p>
                    <p class="item-date">
                        <time datetime="0001-01-01 00:00:00 &#43;0000 UTC" itemprop="datePublished">0001-01-01</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="https://my101du.github.io/1/01/500-%E9%94%99%E8%AF%AF%E7%B3%BB%E5%88%97/" class="title">500 错误系列</a>
                    </p>
                    <p class="item-date">
                        <time datetime="0001-01-01 00:00:00 &#43;0000 UTC" itemprop="datePublished">0001-01-01</time>
                    </p>
                </div>
            </li>
        </ul>
    </div>
</div>
  </div>
</aside>

    
    
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <h4 class="toc-title">文章目录</h4>
    <nav id="toc" class="js-toc toc">

    </nav>
  </div>
</aside>
<main class="main" role="main"><div class="content">
  <article id="-ionic-cross-platform-app" class="article article-type-" itemscope
    itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      <h1 itemprop="name">
  <a
    class="article-title"
    href="/1/01/ionic-cross-platform-app/"
    >ionic跨平台应用开发教程</a
  >
</h1>

      <div class="article-meta">
          
  <span class="article-tag">
    <i class="icon icon-tags"></i>&nbsp;
    <a class="article-tag-link" href="/tags/ionic/"> ionic </a>
  </span>

        <span class="post-comment"><i class="icon icon-comment"></i>&nbsp;<a href="/1/01/ionic-cross-platform-app/#comments"
            class="article-comment-link">评论</a></span>
		<span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计: 9711字</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长: 20分 </span>
      </div>
    </div>
    <div class="article-entry marked-body js-toc-content" itemprop="articleBody">
      <p><img src="/article_images/mobile/ionic.jpg" alt=""></p>
<p>使用 HTML5+Javascript+CSS 来开发手机应用，一直是广大前端开发者的理想，并且已经有不少解决方案了。例如</p>
<ul>
<li>PhoneGap（用javascript来调用设备原生API）</li>
<li>JQuery Mobile</li>
<li>Titanium（混合方式）</li>
<li>AppCan（国产的开发工具）</li>
<li>其他</li>
</ul>
<p>Ionic是一个轻量的“跨平台APP开发框架”，你可以认为它融合了“美观的UI”+“多种组件”+“AngularJS”+“Cordova”，能够方便开发者使用html+js+css快速编码、然后同时打包成IOS和Android平台的APP。</p>
<p><strong>注意</strong>：它直接放弃了IOS6和Android4.1以下的版本支持，来获取更好的使用体验。</p>
<p><a href="http://learn.ionicframework.com/resources/">资源</a>
<a href="http://showcase.ionicframework.com/">案例展示</a>
<a href="http://ionicframework.com/examples/">实例</a></p>
<h1 id="安装环境">安装环境</h1>
<p>首先应该安装好 node.js (略)</p>
<p>然后通过 npm 来安装cordova、ionic等</p>
<pre><code class="language-shell">sudo npm install -g cordova ionic ios-sim # 新版的 ios-sim 好像不需要重新安装了
sudo npm install -g ios-deploy # 如果需要部署到 ios 设备真机
ionic -v #查看版本
</code></pre>
<h1 id="使用ionic自带的模板来创建新项目">使用ionic自带的模板来创建新项目</h1>
<p>ionic自带有3种类型的模板，可以简单地通过命令来生成新项目，最新版的 ionic 生成项目后自动添加 ios platform。</p>
<pre><code class="language-shell">ionic start myApp tabs
</code></pre>
<p>包括3种类型的模板</p>
<ul>
<li>tabs（底部为tabs切换）</li>
<li>sidemenu（侧滑菜单）</li>
<li>blank（空白）</li>
</ul>
<h1 id="为app开启常用插件">为APP开启常用插件</h1>
<p>可以在 <a href="http://plugins.cordova.io/">cordova的插件列表</a> 找到很多有用的插件
例如，使用下面的命令，为你的APP启用一些常用的插件</p>
<p><strong>注意，cordova 5.0以上，很多插件内部集成或托管到npmjs.com上去了，部分命令有变化</strong></p>
<p>例如 <code>camera</code>插件的安装命令变成 <code>cordova plugin add cordova-plugin-camera</code></p>
<pre><code class="language-shell">cordova plugin add com.ionic.keyboard &amp;&amp;
cordova plugin add org.apache.cordova.console &amp;&amp;
cordova plugin add org.apache.cordova.device &amp;&amp;
cordova plugin add org.apache.cordova.device-motion &amp;&amp;
cordova plugin add org.apache.cordova.file &amp;&amp;
cordova plugin add org.apache.cordova.file-transfer &amp;&amp;
cordova plugin add org.apache.cordova.geolocation &amp;&amp;
cordova plugin add org.apache.cordova.inappbrowser &amp;&amp;
cordova plugin add org.apache.cordova.network-information &amp;&amp;
cordova plugin add org.apache.cordova.splashscreen &amp;&amp;
cordova plugin add org.apache.cordova.camera &amp;&amp;
cordova plugin add com.google.cordova.admob
</code></pre>
<h1 id="添加目标平台ios或android以及在模拟器真机浏览器上测试">添加目标平台（IOS或Android）以及在模拟器、真机、浏览器上测试</h1>
<pre><code class="language-shell">ionic platform add ios #添加ios平台支持 最新版的 ionic 用模板生成项目后自动添加 ios 平台支持
ionic platform add android #添加android平台支持
ionic build ios #编译ios平台
ionic emulate ios #会打开ios的模拟器
ionic run andoird #安卓真机测试，因为模拟器占用内存且运行缓慢，一般我习惯用真机直接运行
ionic serve # 使用浏览器来开发和调试
</code></pre>
<p><strong>tips 如何提高 Android 模拟器运行的速度</strong></p>
<p>默认的安卓模拟器非常慢，有两种方式可以作为替代，提高开发时的效率。</p>
<ol>
<li>安装基于 Intel-x86 System Image 的 Android 模拟器</li>
<li>安装 genymotion 这个 Android 虚拟机环境</li>
</ol>
<h1 id="为生成的-android-app-集成-crosswalk-浏览器内核">为生成的 android app 集成 crosswalk 浏览器内核</h1>
<p>在低于 Android 4.4 版本的手机中，混合 APP 默认使用的是一个比较慢的浏览器内核（4.4及以上才使用了基于 Chrome 的高速内核），因此我们可以考虑为应用添加 crosswalk 这个内核来提高 APP 的运行速度。</p>
<pre><code class="language-shell">ionic browser add crosswalk
</code></pre>
<p>在这个过程中会安装 gradle，以及一些“marven”库？非常慢，而且需要开翻墙。。。。
经测试，集成这个 crosswalk 后生成的 apk 文件非常大，我的一个极简单的应用居然达到 55M 以上……运行速度虽有改善，但还是没能达到理想的程度。所以建议还是不要用它了，直接放弃这些低端手机用户吧。</p>
<h1 id="直接编辑-ios-或-android-工程">直接编辑 iOS 或 Android 工程</h1>
<p>有时候需要分别针对 iOS 平台或 Android 平台来进行一些个性化调整。常见的需求如下：</p>
<ol>
<li>需要设置 iOS 应用的签名、修改应用的图标、开发者部署文件等</li>
<li>需要修改 Android 应用的签名、权限列表等</li>
</ol>
<p>这时候可以直接用 Xcode 或 Android IDE 来编辑 <code>/platforms/[ios|android]/</code> 下的工程。</p>
<p>但要注意的是，根目录下的 <code>/www/</code> 目录是最重要的“源文件”，只有在这个目录里对代码、样式的修改才会生效。</p>
<p>因为运行 <code>ionic [run|build|emulate]</code>命令的时候，会自动把这个 <code>/www</code> 目录里的文件编译并复制到不同平台对应的目录下去 <code>/platform/[ios|android]/www</code></p>
<p>运行下面的命令会自动用 <code>/www/</code> 下的文件来覆盖 <code>/platforms/ios/www</code> 里的文件（只复制文件，而不会把 app 运行起来）</p>
<pre><code class="language-shell">cordova prepare ios
</code></pre>
<h1 id="www-文件夹结构与文件分析">www 文件夹结构与文件分析</h1>
<pre><code class="language-shell">/www
├── css	# 样式
├── fonts	# 字体
├── img	# 图片
├── index.html # 应用入口
├── js # javascript文件
├── lib # javascript 库，ionic 框架所有的 js、图片、css 都在这个里面
├── res # 资源文件，如 logo、启动屏幕图片
├── templates # 模板，应用所有“页面（模块？）”的 html 文件都保存里面
</code></pre>
<h1 id="发布应用">发布应用</h1>
<p>在生成之前，去掉不需要的插件，缩小 APP 的体积</p>
<pre><code class="language-shell">cordova plugin rm org.apache.cordova.console 
</code></pre>
<h2 id="发布到android">发布到android</h2>
<!-- raw HTML omitted -->
<h2 id="发布到-ios">发布到 iOS</h2>
<p>关于权限的设置</p>
<h2 id="ionic-版本升级后升级你的-app-的-lib-库版本">ionic 版本升级后，升级你的 APP 的 lib 库版本</h2>
<pre><code class="language-shell">cd Your-Ionic-App-Path
ionic lib update
</code></pre>
<h2 id="build-和-run-的时候报错">build 和 run 的时候报错</h2>
<blockquote>
<p>env: node\r: No such file or directory
Error: Hook failed with error code 127: /hooks/after_prepare/010_add_platform_class.js</p>
</blockquote>
<p>这个主要是因为跨平台操作文件（例如在 windows 和 mac 之间）产生了一个特殊的行尾符号 <code>^M</code>，解决办法：</p>
<pre><code class="language-shell">cat -v FILE-NAME-WITH-ERROR # 发现行尾有 ^M 符号
tr -d '\r' &lt; FILE-NAME-WITH-ERROR &gt; FILE-NAME-WITH-ERROR.fix
cat -v FILE-NAME-WITH-ERROR.fix # 已经没有 ^M 符号了
mv FILE-NAME-WITH-ERROR.fix  FILE-NAME-WITH-ERROR
</code></pre>
<p>然后重新 <code>ionic platform remove ios/android</code> 然后 <code>ionic platform add ios/android</code></p>
<h1 id="title-使用ionic框架开发应用二样式与控件">title: 使用ionic框架开发应用(二)样式与控件</h1>
<h1 id="颜色图标padding动画">颜色、图标、padding、动画</h1>
<p>按钮、toggle、footer、导航条背景等可以通过修改class来实现几种通用的颜色</p>
<p>可赋予颜色的元素，以蓝色 <code>positive</code>为例</p>
<ul>
<li>Tab背景 class=&quot;tab tabs-top tabs-background-positive&rdquo;</li>
<li>按钮、toggle 颜色 class=&quot;button button-positive&rdquo;,  class=&quot;toggle toggle-assertive&rdquo;</li>
<li>数值拉动条 class=&quot;item range range-positive&rdquo;</li>
<li>顶部/底部通栏条 class=&quot;bar bar-header  bar-positive&rdquo;（或 bar-footer）</li>
<li>文本/链接字颜色 class=&quot;item positive&rdquo;</li>
</ul>
<p><strong>颜色后缀</strong></p>
<ul>
<li>不带任何后缀   默认</li>
<li>light   白色</li>
<li>stable 浅灰色</li>
<li>positive 蓝色</li>
<li>calm 青色</li>
<li>balanced 绿色</li>
<li>energized 黄</li>
<li>assertive 橙/红</li>
<li>royal 紫</li>
<li>dark 黑</li>
</ul>
<p><strong>图标</strong>
显示方式：通过 <code>&lt;i class=&quot;icon ion-[图标名称]&quot;&gt;&lt;/i&gt;</code> 来显示</p>
<p>图标名称来源</p>
<ol>
<li>打开 <a href="http://ionicons.com/">ionicon的图标库页面</a> ，点击页面里的图标找到名称</li>
<li>还可以下载上面页面里的 ionicons-1.5.2.zip 压缩包，解压后找到里面的 png/512 对着文件名来修改</li>
</ol>
<p><strong>padding</strong>
可以为元素增加padding
padding
padding-vertical
padding-horizontal
padding-top Adds
padding-right
padding-bottom
padding-left</p>
<p><strong>动画效果</strong>
fade-in
nav-title-slide-ios7
no-animation
reverse
slide-in-left
slide-in-right
slide-in-up
slide-left-right-ios7
slide-left-right
slide-out-left
slide-out-right
slide-right-left-ios7
slide-right-left</p>
<h1 id="样式">样式</h1>
<h2 id="头部与底部">头部与底部</h2>
<p>头部带大标题，可修改颜色</p>
<pre><code class="language-html">&lt;div class=&quot;bar bar-header&quot;&gt;
  &lt;h1 class=&quot;title&quot;&gt;bar-assertive&lt;/h1&gt;
&lt;/div&gt;
</code></pre>
<p>子头部（在头部下面）</p>
<pre><code class="language-html">&lt;div class=&quot;bar bar-subheader&quot;&gt;
  &lt;h2 class=&quot;title&quot;&gt;Sub Header&lt;/h2&gt;
&lt;/div&gt;
</code></pre>
<p>底部/底部带按钮、标题，如果只有一个居右的按钮，需要给button的class添加一个pull-right属性</p>
<pre><code class="language-html">&lt;div class=&quot;bar bar-footer&quot;&gt;
  &lt;button class=&quot;button button-clear&quot;&gt;Left&lt;/button&gt;
  &lt;div class=&quot;title&quot;&gt;Title&lt;/div&gt;
  &lt;button class=&quot;button button-clear&quot;&gt;Right&lt;/button&gt;
&lt;/div&gt;
</code></pre>
<h2 id="按钮">按钮</h2>
<pre><code class="language-html">&lt;button class=&quot;button&quot;&gt;button&lt;/button&gt;&lt;!--普通，添加 button-[颜色] 实现不同色彩 --&gt;
&lt;button class=&quot;button button-block&quot;&gt;button&lt;/button&gt;&lt;!--有padding的全宽按钮--&gt;
&lt;button class=&quot;button button-full&quot;&gt;button&lt;/button&gt;&lt;!--无padding的全宽按钮--&gt;
&lt;button class=&quot;button button-small&quot;&gt;button&lt;/button&gt;&lt;!--尺寸不同的按钮 button-large--&gt;
&lt;button class=&quot;button button-outline&quot;&gt;button&lt;/button&gt;&lt;!--只有边框色，无背景色--&gt;
&lt;button class=&quot;button button-clear&quot;&gt;button&lt;/button&gt;&lt;!--只显示文本，没有边框和背景的干净按钮--&gt;
&lt;button class=&quot;button icon-left ion-home&quot;&gt;button&lt;/button&gt;&lt;!--带图标、文本的按钮，ion-chevron-left，ion-chevron-right用于显示一个小箭头--&gt;
&lt;button class=&quot;button icon ion-navicon&quot;&gt;&lt;/button&gt;&lt;!--放在bar-header中的头部导航按钮--&gt;
&lt;button class=&quot;button icon ion-gear-a&quot;&gt;&lt;/button&gt;&lt;!--纯图标，没有文本的按钮（但有边框）--&gt;
&lt;a class=&quot;button button-icon icon ion-settings&quot;&gt;&lt;/a&gt;&lt;!--纯图标，且没有边框--&gt;
&lt;div class=&quot;button-bar&quot;&gt;&lt;a class=&quot;button&quot;&gt;First&lt;/a&gt;&lt;a class=&quot;button&quot;&gt;Second&lt;/a&gt;&lt;/div&gt;&lt;!--按钮组--&gt;
</code></pre>
<h2 id="列表">列表</h2>
<p>普通列表（无padding）通过<code>&lt;div class=&quot;list&quot;&gt;</code>容器来包裹
有padding和边框的list，通过<code>&lt;div class=&quot;list list-inset&quot;&gt;</code>容器包裹
有“卡片”的边框阴影效果的list，通过<code>&lt;div class=&quot;list card&quot;&gt;</code>容器包裹</p>
<pre><code class="language-html">&lt;div class=&quot;item item-divider&quot;&gt;  &lt;!--不同组列表项之间的分割条--&gt;
&lt;a class=&quot;item&quot; href=&quot;#&quot;&gt;Butterfinger &lt;/a&gt; &lt;!--普通--&gt;
&lt;a class=&quot;item item-icon-left&quot; href=&quot;#&quot;&gt;&lt;i class=&quot;icon ion-email&quot;&gt;&lt;/i&gt;Text &lt;/a&gt; &lt;!--带左侧图标--&gt;
&lt;a class=&quot;item item-icon-left item-icon-right&quot; href=&quot;#&quot;&gt;&lt;i class=&quot;icon ion-email&quot;&gt;&lt;/i&gt;Text &lt;i class=&quot;icon ion-email&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;!--带左侧、右侧两个图标--&gt;
&lt;a class=&quot;item item-icon-left&quot; href=&quot;#&quot;&gt;&lt;i class=&quot;icon ion-email&quot;&gt;&lt;/i&gt;Text &lt;span class=&quot;item-note&quot;&gt;note&lt;/span&gt;&lt;/a&gt; &lt;!--带左侧图标、右侧灰色文本--&gt;
&lt;a class=&quot;item item-icon-left&quot; href=&quot;#&quot;&gt;&lt;i class=&quot;icon ion-email&quot;&gt;&lt;/i&gt;Text &lt;span class=&quot;badge badge-assertive&quot;&gt;0&lt;/span&gt;&lt;/a&gt; &lt;!--带左侧图标、右侧彩色badge--&gt;
&lt;div class=&quot;item item-button-right&quot;&gt;Call Me &lt;button class=&quot;button button-positive&quot;&gt;&lt;i class=&quot;icon ion-ios7-telephone&quot;&gt;&lt;/i&gt;&lt;/button&gt;&lt;/div&gt;&lt;!--带右侧按钮--&gt;
&lt;a class=&quot;item item-avatar&quot; href=&quot;#&quot;&gt;&lt;img src=&quot;venkman.jpg&quot;&gt;&lt;h2&gt;Venkman&lt;/h2&gt; &lt;p&gt;Back off, man. I'm a scientist.&lt;/p&gt;&lt;/a&gt;&lt;!--头像/用户名/简介列表外观--&gt;
&lt;a class=&quot;item item-thumbnail-left&quot; href=&quot;#&quot;&gt;&lt;img src=&quot;venkman.jpg&quot;&gt;&lt;h2&gt;Venkman&lt;/h2&gt; &lt;p&gt;Back off, man. I'm a scientist.&lt;/p&gt;&lt;/a&gt;&lt;!--缩略图/用户名/简介列表外观 可改为right--&gt;
</code></pre>
<h2 id="卡片边框有阴影效果">卡片（边框有阴影效果）</h2>
<p>下面的例子可以去掉头部和底部，只保留中间部分的文本</p>
<pre><code class="language-html">&lt;div class=&quot;card&quot;&gt;
  &lt;div class=&quot;item item-divider&quot;&gt;  I'm a Header in a Card! &lt;/div&gt;
  &lt;div class=&quot;item item-text-wrap&quot;&gt;
    This is a basic Card with some text.
  &lt;/div&gt;
  &lt;div class=&quot;item item-divider&quot;&gt;  I'm a Footer in a Card! &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p>漂亮的大图片card效果（顶部有个item-avatar的的item，底部有个彩色带图标的item）
实际上来自于list和card的结合改造</p>
<pre><code class="language-html">&lt;div class=&quot;list card&quot;&gt;
 
  &lt;div class=&quot;item item-avatar&quot;&gt;
    &lt;img src=&quot;avatar.jpg&quot;&gt;
    &lt;h2&gt;Pretty Hate Machine&lt;/h2&gt;
    &lt;p&gt;Nine Inch Nails&lt;/p&gt;
  &lt;/div&gt;
 
  &lt;div class=&quot;item item-image&quot;&gt;
    &lt;img src=&quot;cover.jpg&quot;&gt;
  &lt;/div&gt;
 
  &lt;a class=&quot;item item-icon-left assertive&quot; href=&quot;#&quot;&gt;
    &lt;i class=&quot;icon ion-music-note&quot;&gt;&lt;/i&gt;
    Start listening
  &lt;/a&gt;
 
&lt;/div&gt;
</code></pre>
<p>中间有图、文本结合，底部有功能按钮(如分享)的复杂card，可用于文章显示</p>
<pre><code class="language-html">&lt;div class=&quot;list card&quot;&gt;
 
  &lt;div class=&quot;item item-avatar&quot;&gt;
    &lt;img src=&quot;mcfly.jpg&quot;&gt;
    &lt;h2&gt;Marty McFly&lt;/h2&gt;
    &lt;p&gt;November 05, 1955&lt;/p&gt;
  &lt;/div&gt;
 
  &lt;div class=&quot;item item-body&quot;&gt;
    &lt;img class=&quot;full-image&quot; src=&quot;delorean.jpg&quot;&gt;
    &lt;p&gt;
      This is a &quot;Facebook&quot; styled Card. The header is created from a Thumbnail List item,
      the content is from a card-body consisting
    &lt;/p&gt;
    &lt;p&gt; &lt;a href=&quot;#&quot; class=&quot;subdued&quot;&gt;1 Like&lt;/a&gt; &lt;a href=&quot;#&quot; class=&quot;subdued&quot;&gt;5 Comments&lt;/a&gt; &lt;/p&gt;
  &lt;/div&gt;
 
  &lt;div class=&quot;item tabs tabs-secondary tabs-icon-left&quot;&gt;
    &lt;a class=&quot;tab-item&quot; href=&quot;#&quot;&gt; &lt;i class=&quot;icon ion-thumbsup&quot;&gt;&lt;/i&gt;  Like &lt;/a&gt;
    &lt;a class=&quot;tab-item&quot; href=&quot;#&quot;&gt; &lt;i class=&quot;icon ion-chatbox&quot;&gt;&lt;/i&gt; Comment &lt;/a&gt;
  &lt;/div&gt;
 
&lt;/div&gt;
</code></pre>
<h2 id="表单">表单</h2>
<p>实际上也是用<code>&lt;div class=&quot;list&quot;&gt;</code>来包裹的，为表单添加缩进和边框<code>&lt;div class=&quot;list list-inset&quot;&gt;</code></p>
<p><strong>输入框input、textare</strong></p>
<pre><code class="language-html">&lt;label class=&quot;item item-input&quot;&gt;&lt;input type=&quot;text&quot; placeholder=&quot;First Name&quot;&gt;&lt;/label&gt;&lt;!--普通输入框，没有左侧文本label--&gt;
&lt;label class=&quot;item item-input&quot;&gt;&lt;span class=&quot;input-label&quot;&gt;Username&lt;/span&gt;&lt;input type=&quot;text&gt;&lt;/label&gt;&lt;!--普通输入框，左侧有文本label--&gt;
&lt;label class=&quot;item item-input item-stacked-label&quot;&gt;&lt;span class=&quot;input-label&quot;&gt;Username&lt;/span&gt;&lt;input type=&quot;text&gt;&lt;/label&gt;&lt;!--文本label在上，输入框在下--&gt;
&lt;label class=&quot;item item-input  item-floating-label&quot;&gt;&lt;span class=&quot;input-label&quot;&gt;Username&lt;/span&gt;&lt;input type=&quot;text&gt;&lt;/label&gt;&lt;!--默认文本label在上，但不显示，输入框在下，输入文本后label出现--&gt;
</code></pre>
<p><strong>特殊的外观</strong></p>
<pre><code class="language-html">&lt;!--图标label--&gt;
&lt;div class=&quot;list list-inset&quot;&gt;
  &lt;label class=&quot;item item-input&quot;&gt;
    &lt;i class=&quot;icon ion-search placeholder-icon&quot;&gt;&lt;/i&gt;
    &lt;input type=&quot;text&quot; placeholder=&quot;Search&quot;&gt;
  &lt;/label&gt;
&lt;/div&gt;
 
&lt;!--输入框放入item的内部（有个背景色的“块”，而不是前面的“融合”），并可以添加按钮等元素--&gt;
&lt;div class=&quot;list&quot;&gt;
  &lt;div class=&quot;item item-input-inset&quot;&gt;
    &lt;label class=&quot;item-input-wrapper&quot;&gt;
      &lt;input type=&quot;text&quot; placeholder=&quot;Email&quot;&gt;
    &lt;/label&gt;
    &lt;button class=&quot;button button-small&quot;&gt;
      Submit
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;
 
&lt;!--bar顶部的搜索框，把上面代码的list和item容器改为bar即可--&gt;
&lt;div class=&quot;bar bar-header item-input-inset&quot;&gt;xxxxx&lt;/div&gt;
</code></pre>
<p><strong>toggle</strong></p>
<pre><code class="language-html">&lt;li class=&quot;item item-toggle&quot;&gt;
     HTML5
     &lt;label class=&quot;toggle toggle-assertive&quot;&gt;
       &lt;input type=&quot;checkbox&quot;&gt;
       &lt;div class=&quot;track&quot;&gt;
         &lt;div class=&quot;handle&quot;&gt;&lt;/div&gt;
       &lt;/div&gt;
     &lt;/label&gt;
  &lt;/li&gt;
</code></pre>
<p><strong>checkbox</strong></p>
<pre><code class="language-html">&lt;li class=&quot;item item-checkbox&quot;&gt;
     &lt;label class=&quot;checkbox&quot;&gt;
       &lt;input type=&quot;checkbox&quot;&gt;
     &lt;/label&gt;
     Flux Capacitor
  &lt;/li&gt;
</code></pre>
<p><strong>radio</strong></p>
<pre><code class="language-html">&lt;label class=&quot;item item-radio&quot;&gt;
    &lt;input type=&quot;radio&quot; name=&quot;group&quot;&gt;
    &lt;div class=&quot;item-content&quot;&gt;
      Go
    &lt;/div&gt;
    &lt;i class=&quot;radio-icon ion-checkmark&quot;&gt;&lt;/i&gt;
  &lt;/label&gt;
</code></pre>
<p><strong>range</strong></p>
<pre><code class="language-html">&lt;div class=&quot;item range range-positive&quot;&gt;
    &lt;i class=&quot;icon ion-ios7-sunny-outline&quot;&gt;&lt;/i&gt;
    &lt;input type=&quot;range&quot; name=&quot;volume&quot; min=&quot;0&quot; max=&quot;100&quot; value=&quot;33&quot;&gt;
    &lt;i class=&quot;icon ion-ios7-sunny&quot;&gt;&lt;/i&gt;
  &lt;/div&gt;
</code></pre>
<h2 id="tab">tab</h2>
<p>最完整的顶部、底部都有tab。
可调整的项目：</p>
<ul>
<li>不使用icon的纯文本tab</li>
<li>不使用文本的纯图标tab</li>
<li>icon方向在左边 <code>&lt;div class=&quot;tabs tabs-icon-left&quot;&gt;</code>，上方是 top（默认）</li>
</ul>
<pre><code class="language-html">&lt;div class=&quot;tabs-striped tabs-top tabs-background-positive tabs-light&quot;&gt;
    &lt;div class=&quot;tabs&quot;&gt;
      &lt;a class=&quot;tab-item active&quot; href=&quot;#&quot;&gt;
        &lt;i class=&quot;icon ion-home&quot;&gt;&lt;/i&gt; Test 
    &lt;/a&gt;
      &lt;a class=&quot;tab-item&quot; href=&quot;#&quot;&gt;
        &lt;i class=&quot;icon ion-star&quot;&gt;&lt;/i&gt; Favorites 
    &lt;/a&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;tabs-striped tabs-background-dark tabs-color-assertive&quot;&gt;
    &lt;div class=&quot;tabs&quot;&gt;
      &lt;a class=&quot;tab-item active&quot; href=&quot;#&quot;&gt;
        &lt;i class=&quot;icon ion-home&quot;&gt;&lt;/i&gt;  Test
      &lt;/a&gt;
      &lt;a class=&quot;tab-item&quot; href=&quot;#&quot;&gt;
        &lt;i class=&quot;icon ion-star&quot;&gt;&lt;/i&gt;  Favorites
      &lt;/a&gt;
    &lt;/div&gt;
  &lt;/div&gt;
</code></pre>
<h2 id="grid">Grid</h2>
<p>好像只有几种标准的比例数字 10,20,25,33,50,67,75,80,90</p>
<pre><code class="language-html">&lt;div class=&quot;row&quot;&gt;
  &lt;div class=&quot;col col-33 col-offset-67&quot;&gt;.col&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p>多个col的对齐设置，可为top、center、bottom</p>
<pre><code class="language-html">&lt;div class=&quot;row row-bottom&quot;&gt;
  &lt;div class=&quot;col&quot;&gt;.col&lt;/div&gt;
  &lt;div class=&quot;col&quot;&gt;.col&lt;/div&gt;
  &lt;div class=&quot;col&quot;&gt;.col&lt;/div&gt;
  &lt;div class=&quot;col&quot;&gt;1&lt;br&gt;2&lt;br&gt;3&lt;br&gt;4&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p>Responsive Grid
没看懂。</p>
<h2 id="自定义扩展样式">自定义扩展样式</h2>
<p>在开发中经常用到一些ionic没有提供的样式</p>
<h4 id="左侧avatar和大小标题右侧图标按钮的列表项">左侧avatar和大小标题，右侧图标/按钮的列表项</h4>
<p>如果右侧是图标</p>
<blockquote>
<p><img src="/article_images/image/mobile/ionic_style_item_avatar_icon.png" alt=""></p>
</blockquote>
<pre><code class="language-html">    &lt;a class=&quot;item item-avatar-left item-icon-right&quot;&gt;
            &lt;img ng-src=&quot;img/item_icons/naifen.png&quot;&gt;
            &lt;div&gt;
                &lt;h2&gt;美素佳儿3段&lt;/h2&gt;
                &lt;p&gt;喂养-奶粉 还能用 3 天&lt;/p&gt;
            &lt;/div&gt;
            &lt;i class=&quot;icon ion-ios7-cart&quot;&gt;&lt;/i&gt;
        &lt;/a&gt;
</code></pre>
<p>如果右侧是按钮</p>
<blockquote>
<p><img src="/article_images/image/mobile/ionic_style_item_avatar_button.png" alt=""></p>
</blockquote>
<p>将上面部分代码改成<code>&lt;a class=&quot;item item-avatar-left item-button-right&quot;&gt;</code> 和 <code>&lt;button classs=&quot;button button-clear&gt;按钮&lt;/button&gt;</code></p>
<h4 id="左侧大小标题右侧文本标签的列表项以及强制左右分离的处理">左侧大小标题，右侧文本标签的列表项（以及强制左右分离的处理）</h4>
<blockquote>
<p><img src="/article_images/image/mobile/ionic_style_item_title_right_badge.png" alt=""></p>
</blockquote>
<pre><code class="language-html">&lt;a class=&quot;item row&quot; ng-href=&quot;#/app/buyHistory&quot;&gt;
			&lt;span class=&quot;col&quot;&gt;
				&lt;h2&gt;2014年7月5日&lt;/h2&gt;
				&lt;p&gt;婴唯爱母婴店 帮宝适 XXL&lt;/p&gt;
			&lt;/span&gt;
			&lt;span class=&quot;badge badge-positive&quot;&gt;324元&lt;/span&gt;
		&lt;/a&gt;
</code></pre>
<h1 id="title-使用ionic框架开发app三第一个app">title: 使用ionic框架开发APP(三)第一个APP</h1>
<p>slug: use-ionic-create-app-3</p>
<h1 id="常用关键代码">常用/关键代码</h1>
<h2 id="sidemenu布局">sidemenu布局</h2>
<p>框架主界面 menu.html</p>
<pre><code class="language-html">&lt;ion-side-menus&gt;
 
  &lt;ion-pane ion-side-menu-content&gt;
    &lt;ion-nav-bar class=&quot;bar-positive nav-title-slide-ios7&quot; animation=&quot;no-animation&quot;&gt;
      &lt;ion-nav-back-button class=&quot;button-clear&quot;&gt;&lt;i class=&quot;icon ion-ios7-arrow-back&quot;&gt;&lt;/i&gt; 返回&lt;/ion-nav-back-button&gt;
    &lt;/ion-nav-bar&gt;
    &lt;ion-nav-view name=&quot;menuContent&quot; animation=&quot;slide-left-right&quot;&gt;&lt;/ion-nav-view&gt;
  &lt;/ion-pane&gt;
 
  &lt;ion-side-menu side=&quot;left&quot;&gt;
    &lt;header class=&quot;bar bar-header bar-light&quot;&gt;
      &lt;h1 class=&quot;title&quot;&gt;导航&lt;/h1&gt;
    &lt;/header&gt;
    &lt;ion-content class=&quot;has-header&quot;&gt;
      &lt;div class=&quot;list&quot;&gt;
        &lt;div class=&quot;item item-divider&quot;&gt;更多&lt;/div&gt;
        &lt;a class=&quot;item item-icon-left&quot; nav-clear menu-close ng-href=&quot;#/app/setting&quot;&gt;
          &lt;i class=&quot;icon ion-android-settings&quot;&gt;&lt;/i&gt;
          设置
        &lt;/a&gt;
      &lt;/div&gt;
 
    &lt;/ion-content&gt;
  &lt;/ion-side-menu&gt;
&lt;/ion-side-menus&gt;
</code></pre>
<p>关键：</p>
<ol>
<li>页面整体用<code>&lt;ion-side-menus&gt;</code>容器包裹</li>
<li>主界面容器用<code>&lt;ion-pane ion-side-menu-content&gt;</code>包裹，内部用<code>&lt;ion-nav-view&gt;</code>来实现多个界面切换（ 注意这个属性name=&quot;menuContent&quot;在app.js的.state方法里使用）。</li>
<li>显示导航条<code>&lt;ion-nav-bar&gt;</code> 和内部的<code>&lt;ion-nav-back-button&gt;</code>返回按钮（默认只有在进入二级界面时才显示，在子页面模板里通过 <code>&lt;ion-nav-buttons side=&quot;left&quot;&gt;</code>来“注入”一个“展开菜单”的按钮）</li>
<li>侧滑菜单容器用<code>&lt;ion-side-menu side=&quot;left&quot;&gt;</code>包裹，side表示方向，注意内部的元素加上 nav-clear menu-close  属性，确保点击后会触发隐藏侧滑菜单</li>
<li>可以设置ion-nav-view的animation属性实现界面切换的动画效果（设为no-animation提高性能）</li>
</ol>
<p>然后在 <code>templates/</code> 目录里添加多个用于切换的模板文件，通过 <code>app.js</code> 里的路由来设置切换逻辑
模板文件的标准格式为：（以一个带导航条按钮和底部tab的模板为例），如果是次一级的页面，不要添加 <code>ion-nav-buttons</code> 元素，系统会默认显示在 menu.html 里定义好了的 返回按钮</p>
<pre><code class="language-html">&lt;ion-view title=&quot;{{typeDetail.title}}&quot;&gt;

  &lt;ion-nav-buttons side=&quot;left&quot;&gt;
    &lt;button menu-toggle=&quot;left&quot; class=&quot;button button-icon icon ion-navicon&quot;&gt;&lt;/button&gt;
  &lt;/ion-nav-buttons&gt;

  &lt;ion-content class=&quot;has-header&quot;&gt;
    内部
  &lt;/ion-content&gt;
 
  &lt;div class=&quot;tabs-top tabs-striped tabs-background-positive tabs-color-light&quot;&gt;
    &lt;div class=&quot;tabs tabs-icon-top&quot;&gt;
      &lt;a class=&quot;tab-item active&quot;&gt;
        &lt;i class=&quot;icon ion-home&quot;&gt;&lt;/i&gt;
        正在使用
      &lt;/a&gt;
    &lt;/div&gt;
  &lt;/div&gt;
 
&lt;/ion-view&gt;
</code></pre>
<h2 id="appjs-参考">app.js 参考</h2>
<pre><code class="language-javascript">.config(function($stateProvider, $urlRouterProvider) {
  $stateProvider

    //主框架（侧滑菜单）
    .state('app', {
      url: &quot;/app&quot;,
      abstract: true,
      templateUrl: &quot;templates/menu.html&quot;,
      controller: 'AppCtrl'
    })

    //物品详情
    .state('app.item-detail', {
      url: &quot;/itemDetail/:typeId/:itemId&quot;,
      views: {
        'menuContent' :{
          templateUrl: &quot;templates/itemDetail.html&quot;,
          controller: 'ItemDetailCtrl'
        }
      }
    })
</code></pre>
<p><strong>注意<code>app.item-detail</code>页面</strong></p>
<ul>
<li>设置了url格式<code>url: &quot;/itemDetail/:typeId/:itemId&quot;,</code>，表示可以可以传入两个参数，名称分别为typeId和itemId。</li>
<li>在该页面对应的 controller <code>ItemDetailCtrl </code>中，可以通过<code>$stateParams.typeId</code>来获取参数的值；另外在html模板中，href要设置成类似<code>&lt;a  ng-href=&quot;#/app/itemDetail/{{typeDetail.id}}/{{item.id}}&quot;&gt;</code>格式，参数的位置要对应准确</li>
<li><code>views</code>的 <code>menuContent</code> 键值，和模板<code>menu.html</code>中 <code>&lt;ion-nav-view name=&quot;menuContent&quot;&gt;&lt;/ion-nav-view&gt;</code> ，ion-nav-view 的name属性值是对应、相等的。</li>
</ul>
<h2 id="servicejs-参考">service.js 参考</h2>
<p>用sublime text的angular自动完成插件，智能完成的 .factory 方法代码无法运行，必须按如下的格式</p>
<pre><code class="language-javascript">angular.module('babyThings.services', [])
.factory('Types', function() {
  var types = [
    {id: 1, title: '食品与喂养', icon: 'android-battery'},
    {id: 3, title: '尿裤湿巾', icon: 'woman'},
    {id: 4, title: '喂养用品', icon: 'woman'},
  ];
 
  return {
    all:function(){
      return types;
    },
    getLastActiveTypeIndex: function(){
      return parseInt(window.localStorage['lastActiveTypeIndex']) || 0;
    },
    setLastActiveTypeIndex: function(index){
      window.localStorage['lastActiveTypeIndex'] = index;
    },
    getTypeDetail: function(typeid){
      return types[typeid-1];
    },
    allDefault: function() {
      var projectString = window.localStorage['projects'];
      if(projectString) {
        return angular.fromJson(projectString);
      }
      return [];
    },
    newProject: function(projectTitle) {
      // Add a new project
      return {
        title: projectTitle,
        tasks: []
      };
    },
  };
})
</code></pre>
<p>注意<code>newProject </code>的return，返回了一个比较复杂一点的对象。<code>allDefault </code>还处理了默认返回空数组。</p>
<h2 id="controllersjs参考">controllers.js参考</h2>
<p><strong>controller参考</strong></p>
<pre><code class="language-javascript">angular.module('babyThings.controllers', [])
.controller('ItemsCtrl', function($scope, $stateParams, Types, Items) {
  var storedTypeId= Types.getLastActiveTypeIndex();
 
  var selectTypeId = $stateParams.typeId;
  console.log('typeid:', selectTypeId);
 
  $scope.typeDetail = Types.getTypeDetail(selectTypeId);
  $scope.items = Items.getItemsOfType(selectTypeId);
 
})
</code></pre>
<p>在浏览器控制台输出参数<code>console.log('typeid:', selectTypeId);</code>
读取url里传递过来的参数 <code>var selectTypeId = $stateParams.typeId;</code>，参数名在 app.js 里和 ng-href=&rdquo;&rdquo; 里要名称对应（见后面）</p>
<p><strong>定时消失的modal对话框</strong></p>
<pre><code class="language-javascript">.controller('AppCtrl', function($scope, $ionicModal, $timeout, Types) {
  // Form data for the login modal
  $scope.loginData = {};

  // Create the login modal that we will use later
  $ionicModal.fromTemplateUrl('templates/login.html', {
    scope: $scope
  }).then(function(modal) {
    $scope.modal = modal;
  });

  // Triggered in the login modal to close it
  $scope.closeLogin = function() {
    $scope.modal.hide();
  };

  // Open the login modal
  $scope.login = function() {
    $scope.modal.show();
  };

  // Perform the login action when the user submits the login form
  $scope.doLogin = function() {
    console.log('Doing login', $scope.loginData);

    // Simulate a login delay. Remove this and replace with your login
    // code if using a login system
    $timeout(function() { 
      $scope.closeLogin();
    }, 1000);
  };
})
</code></pre>
<h2 id="一些关键代码">一些关键代码</h2>
<h3 id="跨域解决">跨域解决</h3>
<p>服务器端CORS（php为例，注意不要有代码错误，如果代码错了，下面的跨域处理会无效）
header(&ldquo;Access-Control-Allow-Origin: *&quot;);
echo json_encode($data);</p>
<p>ionic内可以用$.ajax（jQuery），也可以用$http.get来发出请求</p>
<h1 id="使用ionic框架开发app四常见问题与技巧">使用ionic框架开发APP(四)常见问题与技巧</h1>
<h1 id="技巧">技巧</h1>
<h2 id="如何让tab在某些页面里隐藏">如何让tab在某些页面里隐藏</h2>
<p><a href="http://stackoverflow.com/questions/23991852/how-do-i-hide-the-tabs-in-ionic-framework">http://stackoverflow.com/questions/23991852/how-do-i-hide-the-tabs-in-ionic-framework</a></p>
<p>下面的方法有问题，会导致黑屏
I know that this is answered already, but there&rsquo;s a more &ldquo;angular way&rdquo; of doing this that might be helpful. It&rsquo;s done by using a custom directive that you can apply on views that you don&rsquo;t want to show the bottom tab bar.</p>
<p>My solution to this on my app was:</p>
<p>1 - Use ng-hide binded to a rootScope variable on the tab bar, so I can hide/show it in any Controller/View of my app:</p>
<p><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
2 - Create a custom directive that, when present, will hide the tab bar (and will show the tab bar again when the view is destroyed/dismissed:</p>
<p>var module = angular.module(&lsquo;app.directives&rsquo;, []);
module.directive(&lsquo;hideTabs&rsquo;, function($rootScope) {
return {
restrict: &lsquo;A&rsquo;,
link: function($scope, $el) {
$rootScope.hideTabs = true;
$scope.$on(&lsquo;$destroy&rsquo;, function() {
$rootScope.hideTabs = false;
});
}
};
});
3 - Apply it to specific views that don&rsquo;t need the tab bar visible:</p>
<p><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
ps: I think this can be improved even further avoiding the need of the ng-hide on the <!-- raw HTML omitted --> declaration, letting the directive do all the &ldquo;dirty work&rdquo;.</p>
<h1 id="问题">问题</h1>
<h2 id="在ionic-platform-add-ios时提示no-such-file-or-directory-xxxxxxxxxpluginsiosjson">在ionic platform add ios时提示“no such file or directory &lsquo;/xxxxxxxxx/plugins/ios.json&rsquo;”</h2>
<p>运行</p>
<pre><code class="language-shell">sudo rm -rf platforms
sudo mkdir plugins
sudo ionic platform add ios
</code></pre>
<h2 id="运行-ionic-emulate-ios-报错改用-ios-sim-命令来启动模拟器">运行 ionic emulate ios 报错，改用 ios-sim 命令来启动模拟器</h2>
<p><strong>错误摘要</strong></p>
<blockquote>
<p>ios-sim[8517:168747] stderrPath:……
……
Usage of &lsquo;&ndash;family&rsquo; is deprecated in 3.x. Use &ndash;devicetypeid instead.
Usage of &lsquo;&ndash;retina&rsquo; is deprecated in 3.x. Use &ndash;devicetypeid instead.
过一段时间后提示 Simulator session timed out</p>
</blockquote>
<p><strong>解决步骤</strong></p>
<ul>
<li>
<p>清空模拟器数据：
打开模拟器，点击菜单 IOS Simulator - Reset Contents and Settings</p>
</li>
<li>
<p>重装ios-sim</p>
</li>
</ul>
<pre><code class="language-shell">sudo npm uninstall -g ios-sim
sudo npm install -g ios-sim
sudo npm install -g ios-deploy #首先安装这个。可能不需要，在查资料实验的过程中发现有网友提到这个，就顺便安装了
</code></pre>
<ul>
<li>删除 /platform/，重新添加 ios 和 build</li>
</ul>
<pre><code class="language-shell">rm -rf platforms
sudo ionic platform remove ios
sudo ionic platform add ios
sudo ionic build ios
</code></pre>
<ul>
<li>直接使用 ios-sim launch 命令启动app
后来查到 <a href="https://github.com/phonegap/ios-sim">ios-sim的完整命令行说明</a>,
以及网友遇到的 sudo 权限导致无法启动模拟器的问题 <a href="https://github.com/phonegap/ios-sim/issues/15">phonegap/ios-sim &ldquo;Simulator session timed out&rdquo; error</a>
记住，__千万不要使用 sudo __</li>
</ul>
<pre><code class="language-shell">ios-sim launch platforms/ios/build/emulator/your_ionic.app
</code></pre>
<p>发现默认启动了 iPhone4S 模拟器</p>
<ul>
<li>手动指定iphone模拟器的型号/屏幕尺寸
因为我不想使用 iPhone4S 模拟器的3.5寸屏幕来观察应用运行，又不知道怎么调整默认启动的模拟器为4寸的 5S，因此在模拟器管理界面里删掉了 4s 这个设备。
后来发现  ios-sim 命令还有很多参数，其中 &ndash;devicetypeid  可以指定设备型号
参考 <a href="http://stackoverflow.com/questions/25799403/ios-sim-command-to-start-iphone-6-or-ipad-6">查看ios-sim支持的所有的设备型号字符串</a>
我们选5s作为启动的模拟器，而且通过修改这个参数的值，随时可以切换不同的设备</li>
</ul>
<pre><code class="language-shell">ios-sim showdevicetypes #会列出所有支持的设备型号字符串
ios-sim launch platforms/ios/build/emulator/tigtag_life.app --devicetypeid com.apple.CoreSimulator.SimDeviceType.iPhone-5s
</code></pre>
<p>为了方便，你可以把这段命令存为一个 sh 文件，便于快速启动</p>
<pre><code class="language-shell">echo 'ios-sim launch platforms/ios/build/emulator/tigtag_life.app --devicetypeid com.apple.CoreSimulator.SimDeviceType.iPhone-5 --retina' &gt;&gt; emulate.sh
chmod +x emulate.sh #允许执行
./emulate.sh #在需要启动模拟器的时候
</code></pre>
<p>希望 ionic 官方尽快解决  ionic emulate ios 命令报错的问题</p>
<h2 id="ionic-build-android-报错">ionic build android 报错</h2>
<p>在添加了系统变量
ANDROID_HOME
/Applications/android-sdk-macosx/tools/
以及解决ANT找不到问题后
brew update
brew install ant</p>
<p>仍然报错找不到 ANDROID_HOME 目录或 android 命令，但直接运行android -list 命令又正常</p>
<p>找到http://stackoverflow.com/questions/23960763/error-on-adding-platform-in-ionic-framework-on-windows</p>
<pre><code class="language-shell">&gt;vi .bash_profile
export ANDROID_HOME=/home/coutinho/android-sdk
export ANDROID_TOOLS=/home/coutinho/android-sdk/tools/ 
export ANDROID_PLATFORM_TOOLS=/home/coutinho/android-sdk/platform-tools/
PATH=$PATH:$ANDROID_HOME:$ANDROID_TOOLS:$ANDROID_PLATFORM_TOOLS:.
</code></pre>
<p>然后删除/platform/android目录，重新add和build即可</p>
<h2 id="真机环境下图片无法加载">真机环境下，图片无法加载</h2>
<p>把&lt;img src=&quot;img/xxxx&rdquo; 改成  &lt;img ng-src=&quot;img/xxxx&quot;即可</p>
<h2 id="安装和启动livereload-server这个软件后运行-ionic-serve报错">安装和启动livereload server这个软件后，运行 ionic serve报错</h2>
<blockquote>
<p>&hellip; Uhoh. Got error listen EADDRINUSE &hellip;
Error: listen EADDRINUSE
at errnoException (net.js:904:11)
at Server._listen2 (net.js:1042:14)
at listen (net.js:1064:10)
at Server.listen (net.js:1138:5)
at Server.listen (/usr/local/lib/node_modules/ionic/node_modules/tiny-lr-fork/lib/server.js:138:15)
at Object.IonicTask.start (/usr/local/lib/node_modules/ionic/lib/ionic/serve.js:157:16) 略</p>
</blockquote>
<ul>
<li>可以退出livereload软件，释放端口</li>
<li>可以通过 ionic serve 8101 35739 指定端口</li>
</ul>
<h2 id="使用-ionic-resource-命令生成图片资源文件后运行-ionic-build---release-android-报错">使用 ionic resource 命令生成图片资源文件后，运行 ionic build &ndash;release android 报错</h2>
<p>错误如下（类似）</p>
<blockquote>
<p>Error Code:
42
Output:
libpng error: Read Error</p>
</blockquote>
<blockquote>
<p>:mergeReleaseResources FAILED</p>
</blockquote>
<blockquote>
<p>FAILURE: Build failed with an exception.</p>
</blockquote>
<blockquote>
<ul>
<li>What went wrong:
Execution failed for task &lsquo;:mergeReleaseResources&rsquo;.</li>
</ul>
<blockquote>
<p>Error: Failed to run command:
/Users/zzy/Documents/android_sdk/build-tools/22.0.1/aapt s -i /Users/zzy/zzy_work/upupw/htdocs/myprojects/ionic/com.itjiaoshou.avshell/platforms/android/res/drawable-port-xhdpi/screen.png -o /Users/zzy/zzy_work/upupw/htdocs/myprojects/ionic/com.itjiaoshou.avshell/platforms/android/build/intermediates/res/release/drawable-port-xhdpi-v4/screen.png</p>
</blockquote>
</blockquote>
<p>解决方法1</p>
<pre><code class="language-shell">ionic platform remove android
ionic state restore
ionic resources
</code></pre>
<p>如果仍然无法解决，猜测是在 ionic resource 命令运行过程中，图片生成过程出了问题。</p>
<p>打开 /resource/android/splash ，把所有图片打开看看，发现确实有几张“破损”了，可见 ionic 这项在线服务在中国不是很稳定。通过手动编辑、或者用正常的图片替换这几张受损的图片，再次运行 build 命令就不会报错了。</p>
<h1 id="修改和扩展样式颜色布局等">修改和扩展样式（颜色、布局等）</h1>
<p>虽然ionic只提供了几种固定的颜色和布局，但我们可以通过扩展它的样式表来实现更复杂的效果。</p>
<p>首先需要对项目添加sass支持</p>
<pre><code class="language-shell">npm install -g gulp # 需要先用npm安装Gulp
cd Your-Ionic-Project
ionic setup sass
</code></pre>
<p>然后就会在项目目录下生成一个 <code>gulpfile.js</code>文件，打开这个文件查看，里面定义了一些工作流，每次修改 <code>./scss/ionic.app.scss</code> 文件，会自动编译，然后和ionic自带的样式代码一起合并到 <code>./www/css/ionic.app.min.css</code> 目标文件。</p>
<p>然后修改一下 <code>./www/index.html</code> 文件，引入这个样式文件(之前的可以删除了)</p>
<pre><code class="language-html">&lt;link href=&quot;css/ionic.app.min.css&quot; rel=&quot;stylesheet&quot;&gt;
</code></pre>
<p>测试一下是否生效，打开<code>./scss/ionic.app.scss</code>文件，添加一行代码</p>
<pre><code class="language-css">//覆盖ionic对'royal'的颜色定义
$royal:                          #CC0000 !default;

// The path for our ionicons font files, relative to the built CSS in www/css
$ionicons-font-path: &quot;../lib/ionic/fonts&quot; !default;

// Include all of Ionic
@import &quot;www/lib/ionic/scss/ionic&quot;;
</code></pre>
<p>保存，然后启动本地测试环境</p>
<pre><code class="language-shell">ionic serve
</code></pre>
<p>每次修改这个颜色、保存文件，然后刷新网页，都会发现颜色已经变化了，说明自定义样式已经生效了。</p>
<h1 id="使用gulp-connect实现修改文件自动刷新">使用gulp-connect实现修改文件自动刷新</h1>
<p>前面我们介绍了使用 livereload <strong>服务端</strong>来监控项目文件变化实现自动刷新，但实际上 Gulp 已经自带了这个功能了，瓦全不再需要再开启这个服务端。</p>
<p>首先安装</p>
<pre><code class="language-shell">npm install -g gulp-connect
</code></pre>
<p>然后编辑 <code>gulpfile.js</code>,修改如下（注意添加了注释的地方是新增的代码）</p>
<pre><code class="language-javascript">var gulp = require('gulp');
var gutil = require('gulp-util');
var bower = require('bower');
var concat = require('gulp-concat');
var sass = require('gulp-sass');
var minifyCss = require('gulp-minify-css');
var rename = require('gulp-rename');
var sh = require('shelljs');

//引入gulp-connect，创建一个对象
var connect =  require('gulp-connect');

var paths = {
  sass: ['./scss/**/*.scss']
};

//添加工作流
gulp.task('default', ['connect', 'sass', 'watch']);

gulp.task('sass', function(done) {
  gulp.src('./scss/ionic.app.scss')
    .pipe(sass({
      errLogToConsole: true
    }))
    .pipe(gulp.dest('./www/css/'))
    .pipe(minifyCss({
      keepSpecialComments: 0
    }))
    .pipe(rename({ extname: '.min.css' }))
    .pipe(gulp.dest('./www/css/'))
    .on('end', done);
});

gulp.task('watch', function() {
  gulp.watch(paths.sass, ['sass']);
  
  //主要是监听 html 文件的变化
  gulp.watch(['./www/**/*.html'], ['html']);
});

//让www目录能自动刷新页面：livereload的值为true
gulp.task('connect', function(){
  connect.server({
    root: 'www',
    livereload: true
  });
});

//文件变动触发reload
gulp.task('html', function(){
  gulp.src('./www/**/*.html')
    .pipe(connect.reload());
});

gulp.task('install', ['git-check'], function() {
  return bower.commands.install()
    .on('log', function(data) {
      gutil.log('bower', gutil.colors.cyan(data.id), data.message);
    });
});

gulp.task('git-check', function(done) {
  if (!sh.which('git')) {
    console.log(
      '  ' + gutil.colors.red('Git is not installed.'),
      '\n  Git, the version control system, is required to download Ionic.',
      '\n  Download git here:', gutil.colors.cyan('http://git-scm.com/downloads') + '.',
      '\n  Once git is installed, run \'' + gutil.colors.cyan('gulp install') + '\' again.'
    );
    process.exit(1);
  }
  done();
});

</code></pre>
<p>修改完毕后，再次启动项目测试，可以直接运行 <code>gulp</code>命令。</p>
<pre><code class="language-shell">gulp
</code></pre>
<h1 id="title-使用ionic框架开发应用五发布应用">title: 使用ionic框架开发应用(五)发布应用</h1>
<h1 id="apple-store-发布-app-流程">Apple Store 发布 APP 流程</h1>
<h1 id="google-play-发布-app-流程">Google Play 发布 APP 流程</h1>
<h1 id="一些问题">一些问题</h1>
<h2 id="生成包product-archive后使用organizer的验证提交提示图标错误的问题">生成包（product archive）后，使用organizer的验证/提交提示图标错误的问题</h2>
<p>主要是提示文件找不到，或itunes store 要求120x120图标的问题</p>
<p>首先使用Appicon(从app store下载)或在线工具，生成所有文件（icons和splash screen）。</p>
<p>删除原cordova自动在resources里生成的文件，替换</p>
<p>在文件管理器里删除原来的文件（因为直接删掉了，变成红色），然后Add Files To,把新文件添加进去</p>
<p>编辑 plist文件，修改原来的iphone和ipad图标、启动图</p>
<pre><code class="language-xml">&lt;string&gt;appicon.png&lt;/string&gt;
    &lt;key&gt;CFBundleIcons&lt;/key&gt;
    &lt;dict&gt;
      &lt;key&gt;CFBundlePrimaryIcon&lt;/key&gt;
      &lt;dict&gt;
        &lt;key&gt;CFBundleIconFiles&lt;/key&gt;
        &lt;array&gt;
            &lt;string&gt;appicon@2x.png&lt;/string&gt;
            &lt;string&gt;appicon.png&lt;/string&gt;
            &lt;string&gt;appicon-Small.png&lt;/string&gt;
            &lt;string&gt;appicon-Small@2x.png&lt;/string&gt;
            &lt;string&gt;Default.png&lt;/string&gt;
            &lt;string&gt;Default@2x.png&lt;/string&gt;
            &lt;string&gt;appicon-72.png&lt;/string&gt;
            &lt;string&gt;appicon-72@2x.png&lt;/string&gt;
            &lt;string&gt;appicon-Small-50.png&lt;/string&gt;
            &lt;string&gt;appicon-Small-50@2x.png&lt;/string&gt;
            &lt;string&gt;Default-Landscape.png&lt;/string&gt;
            &lt;string&gt;Default-Landscape@2x.png&lt;/string&gt;
            &lt;string&gt;Default-Portrait.png&lt;/string&gt;
            &lt;string&gt;Default-Portrait@2x.png&lt;/string&gt;
            &lt;string&gt;appicon-60.png&lt;/string&gt;
            &lt;string&gt;appicon-60@2x.png&lt;/string&gt;
            &lt;string&gt;appicon-76.png&lt;/string&gt;
            &lt;string&gt;appicon-76@2x.png&lt;/string&gt;
        &lt;/array&gt;
        &lt;key&gt;UIPrerenderedIcon&lt;/key&gt;
        &lt;false/&gt;
      &lt;/dict&gt;
    &lt;/dict&gt;
    &lt;key&gt;CFBundleIcons~ipad&lt;/key&gt;
    &lt;dict&gt;
      &lt;key&gt;CFBundlePrimaryIcon&lt;/key&gt;
      &lt;dict&gt;
        &lt;key&gt;CFBundleIconFiles&lt;/key&gt;
        &lt;array&gt;
          &lt;string&gt;appicon-Small.png&lt;/string&gt;
          &lt;string&gt;appicon-Small-50.png&lt;/string&gt;
          &lt;string&gt;appicon-76&lt;/string&gt;
          &lt;string&gt;appicon-60&lt;/string&gt;
          &lt;string&gt;appicon&lt;/string&gt;
          &lt;string&gt;appicon@2x&lt;/string&gt;
          &lt;string&gt;appicon-72&lt;/string&gt;
          &lt;string&gt;appicon-72@2x&lt;/string&gt;
        &lt;/array&gt;
        &lt;key&gt;UIPrerenderedIcon&lt;/key&gt;
        &lt;false/&gt;
      &lt;/dict&gt;
    &lt;/dict&gt;
</code></pre>
<p>在project 和 target 里把 code Sigining修改成发布版、配置文件等</p>
<p>product-&gt;scheme-&gt;edit scheme ,修改archive的名称，</p>
<p>要上线的app必须application loader提交(先用Organizer的experot导出ipa)，用Organizer的submit，会进入prerelease</p>
<h2 id="应用被打回后例如-aps服务权限未勾选的一些问题">应用被打回后（例如 APS服务权限未勾选）的一些问题</h2>
<p>最新的 itunes connect 用了一个叫“prerelease”，提交上去后，再次打包提交会提示二进制文件版本重复
这个可以通过xcode修改应用的build 版本号（不用改version）来重新打包</p>
<p>有时候修改了证书，重新生成发布配置文件（development和distribution）后，删除旧的发布配置文件后，无法向设备（如iphone）导入distribution发布配置文件（从而导致无法修改 project和target的code signing相关配置)
这时候打开xcode的preference，account，viewDetails，点一下左下角刷新按钮，即可看到实际上已经导入了。</p>

    </div>
    <div class="article-footer">
<blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接: </strong>
      <a href="https://my101du.github.io/1/01/ionic-cross-platform-app/" title="ionic跨平台应用开发教程" target="_blank" rel="external">https://my101du.github.io/1/01/ionic-cross-platform-app/</a>
    </li>
    <li class="post-copyright-license">
      <strong>License：</strong><a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN</a>
    </li>
  </ul>
</blockquote>

<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/my101du" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="https://avatars2.githubusercontent.com/u/1332645?s=460&amp;u=dc114d6baad010456a5af87c4cc2df0694ff2b1c&amp;v=4" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/my101du" target="_blank"><span class="text-dark">my101du</span><small class="ml-1x"></small></a></h3>
        <div>Stay Hungry, Stay Foolish</div>
      </div>
    </figure>
  </div>
</div>
    </div>
  </article>
<section id="comments">
</section>

</div><nav class="bar bar-footer clearfix" data-stick-bottom>
    <div class="bar-inner">
        <ul class="pager pull-left">
            <li class="prev">
                <a href="https://my101du.github.io/1/01/iphone-use/" title="iphone使用技巧"><i
                        class="icon icon-angle-left"
                        aria-hidden="true"></i><span>&nbsp;&nbsp;下一篇</span></a>
            </li>
            <li class="next">
                <a href="https://my101du.github.io/1/01/ionic-latest/"
                    title="Ionic2(及以上)"><span>上一篇&nbsp;&nbsp;</span><i
                        class="icon icon-angle-right" aria-hidden="true"></i></a>
            </li>
            
            <li class="toggle-toc">
                <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false"
                    title="文章目录" role="button">
                    <span>[&nbsp;</span><span>文章目录</span>
                    <i class="text-collapsed icon icon-anchor"></i>
                    <i class="text-in icon icon-close"></i>
                    <span>]</span>
                </a>
            </li>
        </ul>
        <div class="bar-right">
            <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter"
                data-mobile-sites="weibo,qq,qzone"></div>
        </div>
    </div>
</nav>

</main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
<ul class="social-links">
    <li><a href="https://github.com/my101du" target="_blank" title="github" data-toggle=tooltip data-placement=top >
            <i class="icon icon-github"></i></a></li>
    <li><a href="https://my101du.github.io/index.xml" target="_blank" title="rss" data-toggle=tooltip data-placement=top >
            <i class="icon icon-rss"></i></a></li>
</ul>
  <div class="copyright">
    &copy;2017  -
    2020
    <div class="publishby">
        Theme by <a href="https://github.com/xiaoheiAh" target="_blank"> xiaoheiAh </a>base on<a href="https://github.com/xiaoheiAh/hugo-theme-pure" target="_blank"> pure</a>.
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script>
    window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/javascript.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/php.min.js" defer></script><script>
    hljs.configure({
        tabReplace: '    ', 
        classPrefix: ''     
        
    })
    hljs.initHighlightingOnLoad();
</script>
<script src="https://my101du.github.io/js/application.min.bdeb64b910570b6c41badc6a05b7afb0c8ad9efd8525de3c7257d59e786326a3.js"></script>
<script src="https://my101du.github.io/js/plugin.min.51ff8c7317566f82259170fa36e09c4493adc9b9378b427a01ad3f017ebac7dd.js"></script>

<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(未命名)',
            },
            ROOT_URL: 'https:\/\/my101du.github.io\/',
            CONTENT_URL: 'https:\/\/my101du.github.io\/\/searchindex.json ',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script type="text/javascript" src="https://my101du.github.io/js/insight.min.a343cd9a5a7698336b28ef3a7c16a3a1b1d2d5fb17dc8ed04022bbe08cc5459073a15bdafa3a8a58cdd56080784bdd69fa70b1ae8597565c799c57ed00f0e120.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
<script>
    tocbot.init({
        
        tocSelector: '.js-toc',
        
        contentSelector: '.js-toc-content',
        
        headingSelector: 'h1, h2, h3',
        
        hasInnerContainers: true,
    });
</script>


  </body>
</html>
