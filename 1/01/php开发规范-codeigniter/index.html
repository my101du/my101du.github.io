<!DOCTYPE html>
<html lang="zh">
  <head>
    <title>
         - my101du Blog
      </title>
        <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
    <meta name="renderer" content="webkit">
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    
    <meta name="theme-color" content="#000000" />
    
    <meta http-equiv="window-target" content="_top" />
    
    
    <meta name="description" content="文件格式 &amp;amp; 换行 &amp;amp; PHP 标签 文件格式 保存为 Unicode（UTF-8）编码格式，不要使用 字节序标记（BOM）(BOM 会在 PHP 的输出中产生副作用， 它会" />
    <meta name="generator" content="Hugo 0.70.0 with theme pure" />
    <title> - my101du Blog</title>
    
    
    <link rel="stylesheet" href="http://blog.zhishibee.com/css/style.min.7dc20efbc53647d41aa9ddea0c48e59300223d084e66ea0cbe7c30bd88903acc.css">
    
    <link rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/9.15.10/styles/github.min.css" async>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css" async>
    <meta property="og:title" content="" />
<meta property="og:description" content="文件格式 &amp; 换行 &amp; PHP 标签 文件格式 保存为 Unicode（UTF-8）编码格式，不要使用 字节序标记（BOM）(BOM 会在 PHP 的输出中产生副作用， 它会" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://blog.zhishibee.com/1/01/php%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83-codeigniter/" />

<meta itemprop="name" content="">
<meta itemprop="description" content="文件格式 &amp; 换行 &amp; PHP 标签 文件格式 保存为 Unicode（UTF-8）编码格式，不要使用 字节序标记（BOM）(BOM 会在 PHP 的输出中产生副作用， 它会">

<meta itemprop="wordCount" content="3395">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="文件格式 &amp; 换行 &amp; PHP 标签 文件格式 保存为 Unicode（UTF-8）编码格式，不要使用 字节序标记（BOM）(BOM 会在 PHP 的输出中产生副作用， 它会"/>

    <!--[if lte IE 9]>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
      <![endif]-->

    <!--[if lt IE 9]>
        <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
      <![endif]-->
  </head>

  
  

  <body class="main-center theme-black" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader">
    <div class="slimContent">
      <div class="navbar-header">
        <div class="profile-block text-center">
          <a id="avatar" href="https://github.com/my101du" target="_blank">
            <img class="img-circle img-rotate" src="https://avatars2.githubusercontent.com/u/1332645?s=460&amp;u=dc114d6baad010456a5af87c4cc2df0694ff2b1c&amp;v=4" width="200" height="200">
          </a>
          <h2 id="name" class="hidden-xs hidden-sm">my101du</h2>
          <h3 id="title" class="hidden-xs hidden-sm hidden-md"></h3>
          <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i>Dongguan, China</small>
        </div><div class="search" id="search-form-wrap">
    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i
                        class="icon icon-search"></i></button>
            </span>
        </div>
        <div class="ins-search">
            <div class="ins-search-mask"></div>
            <div class="ins-search-container">
                <div class="ins-input-wrapper">
                    <input type="text" class="ins-search-input" placeholder="想要查找什么..."
                        x-webkit-speech />
                    <button type="button" class="close ins-close ins-selectable" data-dismiss="modal"
                        aria-label="Close"><span aria-hidden="true">×</span></button>
                </div>
                <div class="ins-section-wrapper">
                    <div class="ins-section-container"></div>
                </div>
            </div>
        </div>
    </form>
</div>
        <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>
      <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
        <ul class="nav navbar-nav main-nav">
            <li class="menu-item menu-item-home">
                <a href="/">
                    <i class="icon icon-home-fill"></i>
                  <span class="menu-title">Home</span>
                </a>
            </li>
            <li class="menu-item menu-item-archives">
                <a href="/posts/">
                    <i class="icon icon-archives-fill"></i>
                  <span class="menu-title">Archives</span>
                </a>
            </li>
            <li class="menu-item menu-item-categories">
                <a href="/categories/">
                    <i class="icon icon-folder"></i>
                  <span class="menu-title">Categories</span>
                </a>
            </li>
            <li class="menu-item menu-item-tags">
                <a href="/tags/">
                    <i class="icon icon-tags"></i>
                  <span class="menu-title">Tags</span>
                </a>
            </li>
            <li class="menu-item menu-item-about">
                <a href="/about/">
                    <i class="icon icon-cup-fill"></i>
                  <span class="menu-title">About</span>
                </a>
            </li>
        </ul>
      </nav>
    </div>
  </header>

<aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content"><p>enjoy~</p>
            </div>
        </div>
    </div>
</div>

      <div class="widget">
    <h3 class="widget-title"> 分类</h3>
    <div class="widget-body">
        <ul class="category-list">
        </ul>
    </div>
</div>
      <div class="widget">
    <h3 class="widget-title"> 标签</h3>
    <div class="widget-body">
        <ul class="tag-list">
            
        </ul>

    </div>
</div>
      
<div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
        <ul class="recent-post-list list-unstyled no-thumbnail">
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="http://blog.zhishibee.com/1/01/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" class="title"></a>
                    </p>
                    <p class="item-date">
                        <time datetime="0001-01-01 00:00:00 &#43;0000 UTC" itemprop="datePublished">0001-01-01</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="http://blog.zhishibee.com/1/01/bootstrap-%E4%BB%A3%E7%A0%81%E7%89%87%E6%AE%B5%E4%B8%8E%E6%8A%80%E5%B7%A7/" class="title"></a>
                    </p>
                    <p class="item-date">
                        <time datetime="0001-01-01 00:00:00 &#43;0000 UTC" itemprop="datePublished">0001-01-01</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="http://blog.zhishibee.com/1/01/bootstrap4/" class="title"></a>
                    </p>
                    <p class="item-date">
                        <time datetime="0001-01-01 00:00:00 &#43;0000 UTC" itemprop="datePublished">0001-01-01</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="http://blog.zhishibee.com/1/01/css-%E5%8A%A8%E7%94%BB/" class="title"></a>
                    </p>
                    <p class="item-date">
                        <time datetime="0001-01-01 00:00:00 &#43;0000 UTC" itemprop="datePublished">0001-01-01</time>
                    </p>
                </div>
            </li>
            <li>
                <div class="item-inner">
                    <p class="item-title">
                        <a href="http://blog.zhishibee.com/1/01/css-%E5%8A%A8%E7%94%BB%E5%BA%93-animate.css/" class="title"></a>
                    </p>
                    <p class="item-date">
                        <time datetime="0001-01-01 00:00:00 &#43;0000 UTC" itemprop="datePublished">0001-01-01</time>
                    </p>
                </div>
            </li>
        </ul>
    </div>
</div>
  </div>
</aside>

    
    
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <h4 class="toc-title">文章目录</h4>
    <nav id="toc" class="js-toc toc">

    </nav>
  </div>
</aside>
<main class="main" role="main"><div class="content">
  <article id="-" class="article article-type-" itemscope
    itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      <h1 itemprop="name">
  <a
    class="article-title"
    href="/1/01/php%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83-codeigniter/"
    ></a
  >
</h1>

      <div class="article-meta">
        

        <span class="post-comment"><i class="icon icon-comment"></i>&nbsp;<a href="/1/01/php%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83-codeigniter/#comments"
            class="article-comment-link">评论</a></span>
		<span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计: 3395字</span>
		<span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长: 7分 </span>
      </div>
    </div>
    <div class="article-entry marked-body js-toc-content" itemprop="articleBody">
      <h1 id="文件格式--换行--php-标签">文件格式 &amp; 换行 &amp; PHP 标签</h1>
<h2 id="文件格式">文件格式</h2>
<p>保存为 Unicode（UTF-8）编码格式，不要使用 字节序标记（BOM）(BOM 会在 PHP 的输出中产生副作用， 它会阻止应用程序设置它的头信息)</p>
<h2 id="换行符">换行符</h2>
<p>应该使用 Unix 格式换行符（LF）必须使用 Unix 的换行格式保存。这对于那些在 Windows 环境下的开发者可能是个问题， 但是不管在什么环境下，你都应该确认下你的文本编辑器已经配置好使用 Unix 换行符了。</p>
<p>你可以在编辑器中修改设置，让文件自动保存为符合规定的格式</p>
<h2 id="不使用短标记">不使用短标记</h2>
<p>使用 PHP 的完整标记，防止服务器不支持短标记（ short_open_tag ）参数</p>
<pre><code class="language-php">// 错误
&lt;? echo $foo; ?&gt;
&lt;?=$foo?&gt;

// 正确
&lt;?php echo $foo; ?&gt;
</code></pre>
<h2 id="php-起始与结束标签">PHP 起始与结束标签</h2>
<p>所有的 PHP 文件将<strong>不使用结束标签</strong>，而是以一个<strong>空行代替</strong></p>
<p>多余的空格（特别是 php 的起始/结束标签）</p>
<p>PHP 起始标签的前面和结束标签的后面都不要留空格，输出是被缓存的，所以如果你的文件中有空格的话， 这些空格会在 CodeIgniter 输出它的内容之前被输出，从而会导致错误，而且也会导致 CodeIgniter 无法发送正确的头信息。</p>
<p>是这个意思吗？</p>
<pre><code class="language-php">    [不要空格]  &lt;?php  ?&gt; [不要空格]  
</code></pre>
<h1 id="代码风格">代码风格</h1>
<h2 id="空格-与-tab">空格 与 tab</h2>
<p>使用制表符（tab）来代替空格，这虽然看起来是一件小事，但是使用制表符代替空格， 可以让开发者阅读你代码的时候，可以根据他们的喜好在他们的程序中自定义缩进。 此外还有一个好处是，这样文件可以更紧凑一点，也就是本来是四个空格字符， 现在只要一个制表符就可以了。</p>
<h2 id="文件命名">文件命名</h2>
<ul>
<li><strong>类文件</strong>的命名必须以<strong>大写字母开头</strong></li>
<li>其他文件（配置文件，视图，一般的脚本文件等）的命名是全小写。</li>
</ul>
<p>例如</p>
<pre><code>Somelibrary.php
Some_library.php

applicationconfig.php
application_config.php
</code></pre>
<p>类文件的名称必须和类的名称保持一致，例如，如果你有一个类名为 Myclass ， 那么文件名应该是 Myclass.php</p>
<p><strong>一个类一个文件(除非他们的功能&quot;紧密相连&rdquo;)</strong></p>
<p>除非几个类是<em>紧密相关的</em>，否则每个类应该单独使用一个文件。 在 CodeIgniter 中一个文件包含多个类的一个例子是 Xmlrpc 类文件。</p>
<h2 id="缩进与大括号独占一行">缩进与大括号独占一行</h2>
<p>使用 Allman 代码缩进风格。除了类的定义之外，其他的所有大括号都应该独占一行， 并且和它对应的控制语句保持相同的缩进。</p>
<p>可以设置编辑器的自动格式化（例如 phpfmt）</p>
<pre><code class="language-php">function foo($bar)
{
    // ...
}

foreach ($arr as $key =&gt; $val)
{
    // ...
}

if ($foo == $bar)
{
    // ...
}
else
{
    // ...
}

for ($i = 0; $i &lt; 10; $i++)
{
    for ($j = 0; $j &lt; 10; $j++)
    {
        // ...
    }
}

// try 
// {} 
// catch()
// {}
</code></pre>
<h2 id="中括号和小括号内的空格不要使用多余的">中括号和小括号内的空格，不要使用多余的</h2>
<p>使用中括号和小括号的时候不应该使用多余的空格</p>
<pre><code class="language-php">// 错误
$arr[ $foo ] = 'foo';
// 正确
$arr[$foo] = 'foo'; // no spaces around array keys

//错误
function foo ( $bar )

// 正确
function foo($bar) // no spaces around parenthesis in function declarations
</code></pre>
<p>唯一的例外是，在那些接受一个括号和参数的 PHP 的控制结构（declare、do-while、elseif、for、 foreach、if、switch、while）的后面应该加一个空格，这样做可以和函数区分开来，并增加可读性。</p>
<pre><code class="language-php">//错误
foreach( $query-&gt;result() as $row )

// 正确
foreach ($query-&gt;result() as $row) // single space following PHP control structures, but not in interior parenthesis

</code></pre>
<h2 id="每行只有一条语句">每行只有一条语句</h2>
<pre><code class="language-php">//错误
$foo = 'this'; $bar = 'that'; $bat = str_replace($foo, $bar, $bag);

//正确
$foo = 'this';
$bar = 'that';
$bat = str_replace($foo, $bar, $bag);
</code></pre>
<h2 id="类命名">类命名</h2>
<p>类名必须以大写字母开头，多个单词之间使用下划线分割，不要使用驼峰命名法</p>
<pre><code class="language-php">class Super_class {}
</code></pre>
<h2 id="类的方法">类的方法</h2>
<p>类的方法应该使用全小写，并且应该明确指出该方法的功能，最好包含一个动词。 避免使用冗长的名称，多个单词之间使用下划线分割。</p>
<pre><code class="language-php">function get_file_properties()  // descriptive, underscore separator, and all lowercase letters
</code></pre>
<h2 id="变量命名">变量命名</h2>
<p>和类方法的命名规则非常接近，使用全小写，使用下划线分割， 并且应该明确指出该变量的用途。非常短的无意义的变量只应该在 for 循环中作为迭代器使用。</p>
<pre><code class="language-php">for ($j = 0; $j &lt; 10; $j++)
$str
$buffer
$group_id
$last_city
</code></pre>
<h2 id="注释">注释</h2>
<p>通常情况下，应该多写点注释，这不仅可以向那些缺乏经验的程序员描述代码的流程和意图， 而且当你几个月后再回过头来看自己的代码时仍能帮你很好的理解</p>
<p>DocBlock 风格的注释，写在类、方法和属性定义的前面，可以被 IDE 识别:(<a href="http://manual.phpdoc.org/HTMLSmartyConverter/HandS/phpDocumentor/tutorial_phpDocumentor.howto.pkg.html#basics.docblock">http://manual.phpdoc.org/HTMLSmartyConverter/HandS/phpDocumentor/tutorial_phpDocumentor.howto.pkg.html#basics.docblock</a>)</p>
<pre><code class="language-php">/**
 * Super Class
 *
 * @package Package Name
 * @subpackage  Subpackage
 * @category    Category
 * @author  Author Name
 * @link    http://example.com
 */
class Super_class {

}


/**
 * Encodes string for use in XML
 *
 * @param   string  $str    Input string
 * @return  string
 */
function xml_encode($str)


/**
 * Data for class manipulation
 *
 * @var array
 */
public $data = array();
</code></pre>
<p>单行注释应该和代码合在一起，大块的注释和代码之间应该留一个空行</p>
<pre><code class="language-php">// break up the string by newlines
$parts = explode(&quot;\n&quot;, $str);

// A longer comment that needs to give greater detail on what is
// occurring and why can use multiple single-line comments.  Try to
// keep the width reasonable, around 70 characters is the easiest to
// read.  Don't hesitate to link to permanent external resources
// that may provide greater detail:
//
// http://example.com/information_about_something/in_particular/

$parts = $this-&gt;foo($parts);
</code></pre>
<h2 id="常量">常量</h2>
<p>全部大写。尽量使用 CodeIgniter 已经定义好的常量， 如：SLASH、LD、RD、PATH_CACHE 等。</p>
<h2 id="truefalse-和-null-关键字">TRUE、FALSE 和 NULL 关键字</h2>
<p>全部使用大写</p>
<pre><code class="language-php">if ($foo == TRUE)
$bar = FALSE;
function foo($bar = NULL)
</code></pre>
<h2 id="逻辑操作符">逻辑操作符</h2>
<p>不要使用 <code>||</code> 操作符，它在一些设备上看不清（可能看起来像是数字 11）应该用 <code>OR</code> 代替， 使用 <code>&amp;&amp;</code> 操作符比使用 AND 要好一点，但是两者都可以接受。 另外，在 <code>!</code> 操作符的前后都应该加一个空格。</p>
<p>(分裂了。。。 看不清就看不清，坚持用 ||  和  &amp;&amp;)</p>
<pre><code class="language-php">if ($foo OR $bar)
if ($foo &amp;&amp; $bar) // recommended
if ( ! $foo)
if ( ! is_array($foo))
</code></pre>
<h2 id="字符串--何时用单引号--有变量">字符串 &amp; 何时用单引号 &amp; 有变量</h2>
<ol>
<li>简单的纯字符串使用单引号引起来</li>
<li>当字符串中有变量时使用双引号，并且使用大括号将变量包起来。</li>
<li>另外，当字符串中有单引号时，外部使用双引号，这样就不用使用转义符。</li>
</ol>
<pre><code class="language-php">//错误
&quot;My String&quot;                 // no variable parsing, so no use for double quotes
&quot;My string $foo&quot;                // needs braces
'SELECT foo FROM bar WHERE baz = \'bag\''   // ugly

// 正确
'My String'
&quot;My string {$foo}&quot;
&quot;SELECT foo FROM bar WHERE baz = 'bag'&quot;
</code></pre>
<h2 id="sql-查询语句">SQL 查询语句</h2>
<ul>
<li>SQL 关键字永远使用大写：SELECT、INSERT、UPDATE、WHERE、AS、JOIN、ON、IN 等。</li>
<li>考虑到易读性，把长的查询分成多行，最好是每行只有一个从句或子从句。</li>
</ul>
<pre><code class="language-php">//错误
// keywords are lowercase and query is too long for
// a single line (... indicates continuation of line)
$query = $this-&gt;db-&gt;query(&quot;select foo, bar, baz, foofoo, foobar as raboof, foobaz from exp_pre_email_addresses
...where foo != 'oof' and baz != 'zab' order by foobaz limit 5, 100&quot;);

// 正确
$query = $this-&gt;db-&gt;query(&quot;SELECT foo, bar, baz, foofoo, foobar AS raboof, foobaz
                FROM exp_pre_email_addresses
                WHERE foo != 'oof'
                AND baz != 'zab'
                ORDER BY foobaz
                LIMIT 5, 100&quot;);
</code></pre>
<h2 id="提供缺省的函数参数">提供缺省的函数参数</h2>
<p>有助于防止因错误的函数调用引起的PHP错误， 另外提供常见的备选值可以节省几行代码。例如:</p>
<pre><code class="language-php">function foo($bar = '', $baz = FALSE)

</code></pre>
<h2 id="私有方法和变量">私有方法和变量</h2>
<p>那些只能在内部访问的方法和变量，例如供共有方法使用的那些工具方法或辅助函数，应该以<strong>下划线开头</strong>。</p>
<pre><code class="language-php">public function convert_text()
private function _convert_text()
</code></pre>
<h2 id="不要在提交的代码里保留-var_dump等开发中的调试代码">不要在提交的代码里保留 <code>var_dump()</code>等开发中的调试代码</h2>
<p>不要在你的提交中包含调试代码，<strong>就算是注释掉了也不行</strong>。 像 <code>var_dump()</code> 、 <code>print_r()</code> 、 <code>die()</code> 和 <code>exit()</code> 这样的函数，都不应该包含在你的代码里， 除非它们用于除调试之外的其他特殊用途。</p>
<h1 id="本地化文本">本地化文本</h1>
<p>CodeIgniter 的类库应该尽可能的使用相应的语言文件。</p>
<pre><code class="language-php">//错误
return &quot;Invalid Selection&quot;;

//正确
return $this-&gt;lang-&gt;line('invalid_selection');

</code></pre>
<h1 id="php-错误与版本兼容处理">PHP 错误与版本兼容处理</h1>
<h2 id="不能关闭-display_errors-了事应该做检查处理">不能关闭 display_errors 了事，应该做检查处理</h2>
<p>运行代码时不应该出现任何错误信息，并不是把警告和提示信息关掉来满足这一点(自欺欺人) <strong>应该在开发阶段就排除掉这些可能的错误</strong>。</p>
<p>例如，绝不要直接访问一个你没设置过的变量（例如，<code>$_POST</code> 数组）， 你应该先使用 <code>isset()</code> 函数判断下。</p>
<p>确保你的开发环境对所有人都开启了错误报告，PHP 环境的 <code>display_errors</code> 参数也开启了， 你可以通过下面的代码来检查:</p>
<pre><code class="language-php">if (ini_get('display_errors') == 1)
{
    exit &quot;Enabled&quot;;
}
</code></pre>
<p>有些服务器上 display_errors 参数可能是禁用的，而且你没有权限修改 php.ini 文件， 你可以使用下面的方法来启用它:
<strong>注意</strong> 使用 <code>ini_set()</code> 函数在运行时设置 display_errors 参数和通过 php.ini 配置文件来设置是不一样的，换句话说，当出现致命错误（fatal errors）时，这种方法没用。</p>
<pre><code class="language-php">ini_set('display_errors', 1);

</code></pre>
<h2 id="php-版本兼容当运行环境不满足代码时要有备选方案">PHP 版本兼容，当运行环境不满足代码时，要有备选方案</h2>
<p>你的代码要么提供适当的回退来兼容这点，要么提供一些可选的功能，当不兼容时能安静的退出而不影响用户的程序。</p>
<p>另外，不要使用那些需要额外安装的库的 PHP 函数，除非你能给出当该函数不存在时，有其他的函数能替代它。</p>
<h2 id="对返回值进行比较以及类型转换">对返回值进行比较以及类型转换</h2>
<p>一些 PHP 函数在失败时返回 FALSE ，但是也可能会返回 &quot;&rdquo; 或 0 这样的有效值， 这些值在<strong>松散类型比较时和 FALSE 是相等的</strong>。所以当你在条件中使用这些返回值作比较时， 一定要使用严格类型比较，确保返回值确实是你想要的，而不是松散类型的其他值。</p>
<p>必要时使用 <code>===</code> 和 <code>!==</code></p>
<p>问题1: 0 和 FALSE</p>
<pre><code class="language-php">// 错误
// 因为 strpos 返回的是 数字 0, 在松散类型比较时，0 就等于 FALSE (不对类型进行比较)  `== FALSE`
// 因此导致这个整条表达式成立，返回 TRUE, 花括号内代码会执行。
// 然而我们其实是想当字符串找不到时，不执行代码 —— 结果却执行了！
if (strpos($str, 'foo') == FALSE) {
	//...
}

// 改成严格比较
// 由于 0 并不是完全等于 FALSE（类型不同），所以整条表达式返回 FALSE
// 括号内代码不执行
if (strpos($str, 'foo') === FALSE) { 
	//... 
}
</code></pre>
<p>问题2：空字符串<code>&quot;&quot;</code>判断 和 <code>FALSE</code> <code>0</code></p>
<pre><code class="language-php">// 错误的，用户传入 FALSE 和 0，在松散模式下，都可以等价于 &quot;&quot; 空字符串，因此下面的表达式返回 TRUE, 代码执行
if ($str == &quot;&quot;) // uh-oh!  What if FALSE or the integer 0 is passed as an argument?

// 正确的
if ($str === &quot;&quot;)
</code></pre>
<p>为了避免这问题，可以用 <strong>类型转换</strong>, 例如，把传入的数据强制转成字符串。</p>
<pre><code class="language-php">// 数字 0 （和其他数字）将会转换为数字字符串 &quot;0&quot;，布尔值 TRUE 会变成 &quot;1&quot;:
$str = (string) $str;
</code></pre>

    </div>
    <div class="article-footer">
<blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接: </strong>
      <a href="http://blog.zhishibee.com/1/01/php%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83-codeigniter/" title="" target="_blank" rel="external">http://blog.zhishibee.com/1/01/php%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83-codeigniter/</a>
    </li>
    <li class="post-copyright-license">
      <strong>License：</strong><a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN</a>
    </li>
  </ul>
</blockquote>

<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/my101du" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="https://avatars2.githubusercontent.com/u/1332645?s=460&amp;u=dc114d6baad010456a5af87c4cc2df0694ff2b1c&amp;v=4" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/my101du" target="_blank"><span class="text-dark">my101du</span><small class="ml-1x"></small></a></h3>
        <div>Stay Hungry, Stay Foolish</div>
      </div>
    </figure>
  </div>
</div>
    </div>
  </article>
<section id="comments">
</section>

</div><nav class="bar bar-footer clearfix" data-stick-bottom>
    <div class="bar-inner">
        <ul class="pager pull-left">
            <li class="prev">
                <a href="http://blog.zhishibee.com/1/01/guzzle%E5%A5%BD%E7%94%A8%E7%9A%84php-http-client/" title=""><i
                        class="icon icon-angle-left"
                        aria-hidden="true"></i><span>&nbsp;&nbsp;下一篇</span></a>
            </li>
            <li class="next">
                <a href="http://blog.zhishibee.com/1/01/codeigniter-%E7%B1%BB%E5%BA%93%E4%B8%8E%E8%BE%85%E5%8A%A9%E5%87%BD%E6%95%B0-topics/"
                    title=""><span>上一篇&nbsp;&nbsp;</span><i
                        class="icon icon-angle-right" aria-hidden="true"></i></a>
            </li>
            
            <li class="toggle-toc">
                <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false"
                    title="文章目录" role="button">
                    <span>[&nbsp;</span><span>文章目录</span>
                    <i class="text-collapsed icon icon-anchor"></i>
                    <i class="text-in icon icon-close"></i>
                    <span>]</span>
                </a>
            </li>
        </ul>
        <div class="bar-right">
            <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter"
                data-mobile-sites="weibo,qq,qzone"></div>
        </div>
    </div>
</nav>

</main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
<ul class="social-links">
    <li><a href="https://github.com/my101du" target="_blank" title="github" data-toggle=tooltip data-placement=top >
            <i class="icon icon-github"></i></a></li>
    <li><a href="http://blog.zhishibee.com/index.xml" target="_blank" title="rss" data-toggle=tooltip data-placement=top >
            <i class="icon icon-rss"></i></a></li>
</ul>
  <div class="copyright">
    &copy;2017  -
    2020
    <div class="publishby">
        Theme by <a href="https://github.com/xiaoheiAh" target="_blank"> xiaoheiAh </a>base on<a href="https://github.com/xiaoheiAh/hugo-theme-pure" target="_blank"> pure</a>.
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script>
    window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/highlight.min.js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/javascript.min.js" defer></script>
<script type="text/javascript" src="https://cdn.staticfile.org/highlight.js/9.15.10/languages/php.min.js" defer></script><script>
    hljs.configure({
        tabReplace: '    ', 
        classPrefix: ''     
        
    })
    hljs.initHighlightingOnLoad();
</script>
<script src="http://blog.zhishibee.com/js/application.min.bdeb64b910570b6c41badc6a05b7afb0c8ad9efd8525de3c7257d59e786326a3.js"></script>
<script src="http://blog.zhishibee.com/js/plugin.min.51ff8c7317566f82259170fa36e09c4493adc9b9378b427a01ad3f017ebac7dd.js"></script>

<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(未命名)',
            },
            ROOT_URL: 'http:\/\/blog.zhishibee.com\/',
            CONTENT_URL: 'http:\/\/blog.zhishibee.com\/\/searchindex.json ',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script type="text/javascript" src="http://blog.zhishibee.com/js/insight.min.a343cd9a5a7698336b28ef3a7c16a3a1b1d2d5fb17dc8ed04022bbe08cc5459073a15bdafa3a8a58cdd56080784bdd69fa70b1ae8597565c799c57ed00f0e120.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js"></script>
<script>
    tocbot.init({
        
        tocSelector: '.js-toc',
        
        contentSelector: '.js-toc-content',
        
        headingSelector: 'h1, h2, h3',
        
        hasInnerContainers: true,
    });
</script>


  </body>
</html>
